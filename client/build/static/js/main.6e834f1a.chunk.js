(this["webpackJsonpcovid-19-client"]=this["webpackJsonpcovid-19-client"]||[]).push([[0],{118:function(e,t,a){e.exports=a(263)},123:function(e,t,a){},125:function(e,t,a){},129:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},226:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(123),a(38)),s=a(14),i=a(20),u=a.n(i),m=a(35),f=a(13),d=(a(125),a(289)),p=a(293),v=a(295),h=a(296),E=a(297),b=a(111),y=(a(128),a(63)),O=a(294);a(129);var j=function(e){var t=e.type,a=e.title,n=e.cases,c=e.isGreen,l=e.isOrange,o=e.isRed,s=e.active,i=e.total,u=Object(y.a)(e,["type","title","cases","isGreen","isOrange","isRed","active","total"]);return r.a.createElement(d.a,{onClick:u.onClick,className:"infoBox ".concat(s&&"infoBox--selected"," ").concat(l&&"infoBox--orange"," ").concat(c&&"infoBox--green"," ").concat(o&&"infoBox--red")},r.a.createElement(p.a,null,r.a.createElement(O.a,{className:"infoBox__title"},a),r.a.createElement("h2",{className:"infoBox__total"},i),r.a.createElement(O.a,{className:"infoBox__cases"},n," New ",t)))},g=(a(131),a(300)),N=a(301),_=a(24),w=a(17),x=a.n(w),k=a(298),S=a(299),C={cases:{hex:"#FFA500"},recovered:{hex:"#7dd71d"},deaths:{hex:"#fb4443"}},T=function(e){return Object(_.a)(e).sort((function(e,t){return e.cases>t.cases?-1:1}))},D=function(e){return e?"".concat(x()(e).format("0,0")):"0"};var M=function(e){var t=e.countries,a=e.casesType,n=e.center,c=e.zoom;return r.a.createElement("div",{className:"map"},r.a.createElement(g.a,{center:n,zoom:c},r.a.createElement(N.a,{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png",maxZoom:"7",attribution:"\xa9 <a href=https://carto.com/>Carto</a> contributors"}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map((function(e){return r.a.createElement(k.a,{key:e.country,center:[e.lat,e.long],fillOpacity:.4,color:"white",fillColor:C[t].hex,radius:500*Math.sqrt(e[t])},r.a.createElement(S.a,null,r.a.createElement("div",{className:"info-container"},r.a.createElement("div",{className:"info-name"},e.country," | ",e.continent),r.a.createElement("div",{className:"info-confirmed"},"Population: ",x()(e.population).format("0,0")),r.a.createElement("div",{className:"info-deaths"},"Total Tests: ",x()(e.tests).format("0,0")),r.a.createElement("div",{className:"info-confirmed"},"Active Cases: ",x()(e.active).format("0,0")),r.a.createElement("div",{className:"info-recovered"},"Critical Cases: ",x()(e.critical).format("0,0")),r.a.createElement("div",null,"---------------------------------------------"),r.a.createElement("div",{className:"info-recovered"},"Active / 1 Million:"," ",x()(e.activePerOneMillion).format("0,0")),r.a.createElement("div",{className:"info-recovered"},"Recovered / 1 Million:"," ",x()(e.recoveredPerOneMillion).format("0,0")),r.a.createElement("div",{className:"info-recovered"},"Critical / 1 Million:"," ",x()(e.criticalPerOneMillion).format("0,0")))))}))}(t,a)))};a(132);var B=function(e){var t=e.countries,a=e.states;return t?r.a.createElement("div",{className:"table"},r.a.createElement("table",null,r.a.createElement("tbody",null,t.map((function(e){var t=e.country,a=e.cases;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement("strong",null,x()(a).format("0,0"))))}))))):r.a.createElement("div",{className:"table"},r.a.createElement("table",null,r.a.createElement("tbody",null,a.map((function(e){var t=e.state,a=e.cases;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement("strong",null,x()(a).format("0,0"))))})))))},R=a(108),A={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return x()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{parser:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return x()(e).format("0a")}}}]}},z=function(e,t){var a,n=[];for(var r in e.cases){if(a){var c={x:r,y:e[t][r]-a};n.push(c)}a=e[t][r]}return n};var G=function(e){var t=e.casesType,a=e.historical,c=Object(y.a)(e,["casesType","historical"]),l=Object(n.useState)({}),o=Object(f.a)(l,2),s=o[0],i=o[1],d="#fb4443";return"cases"===t?d="#ffa500":"recovered"===t&&(d="#7dd71d"),Object(n.useEffect)((function(){var e="all"===a?"api/historical/all":"api/historical/usa";(function(){var a=Object(m.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e).then((function(e){return e.json()})).then((function(e){var a=z(e,t);i(a)}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[t,a]),r.a.createElement("div",{className:c.className},(null===s||void 0===s?void 0:s.length)>0&&r.a.createElement(R.a,{options:A,data:{datasets:[{backgroundColor:d,borderColor:"#fff",data:s}]}}))};a(224);var P=function(){var e=Object(n.useState)({}),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(f.a)(l,2),i=s[0],y=s[1],O=Object(n.useState)("worldwide"),g=Object(f.a)(O,2),N=g[0],_=g[1],w=Object(n.useState)([]),x=Object(f.a)(w,2),k=x[0],S=x[1],C=Object(n.useState)([]),R=Object(f.a)(C,2),A=R[0],z=R[1],P=Object(n.useState)([]),q=Object(f.a)(P,2),F=q[0],H=q[1],U=Object(n.useState)({lat:40.044438,lng:-19.518099}),Y=Object(f.a)(U,2),I=Y[0],J=Y[1],L=Object(n.useState)(2),V=Object(f.a)(L,2),W=V[0],Z=V[1],K=Object(n.useState)([]),Q=Object(f.a)(K,2),X=Q[0],$=Q[1],ee=Object(n.useState)("cases"),te=Object(f.a)(ee,2),ae=te[0],ne=te[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/all").then((function(e){return e.json()})).then((function(e){return c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),b.a.notify("The information on this site may not be always up-to-date...\nSorry for the inconvenience!")}),[]),Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.iso2}})),a=T(e);z(a),$(e),y(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/states").then((function(e){return e.json()})).then((function(e){var t=T(e);H(t),S(k)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[k]);var re=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,n="worldwide"===a?"api/all":"api/countries/code/".concat(a),e.next=4,fetch(n).then((function(e){return e.json()})).then((function(e){_(a),c(e),"worldwide"===a?(J([40.044438,-19.518099]),Z(2)):J([e.lat,e.long])})).then(Z(4));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"home"},r.a.createElement(d.a,{className:"table__left"},r.a.createElement(p.a,null,r.a.createElement("h3",{className:"app__rightTableTitle"},"current confirmed cases \u2022 world"),r.a.createElement(B,{countries:A}),r.a.createElement("h3",{className:"app__rightGraphTitle"},"new daily ",ae," worldwide"),r.a.createElement(G,{className:"app__graph",casesType:ae,historical:"all"}))),r.a.createElement("div",{className:"app__left"},r.a.createElement("div",{className:"app__header"},r.a.createElement("h1",null,"CoViz-19"),r.a.createElement("div",{className:"right__nav"},r.a.createElement(o.b,{className:"user-link",to:"/user"},"User Dashboard"),r.a.createElement(v.a,{className:"app__dropdown"},r.a.createElement(h.a,{className:"app__dropdown-name",variant:"outlined",onChange:re,value:N},r.a.createElement(E.a,{value:"worldwide"},"Worldwide"),i.map((function(e,t){return r.a.createElement(E.a,{key:t,value:e.value},e.name)})))))),r.a.createElement("div",{className:"app__stats"},r.a.createElement(j,{isOrange:!0,type:"Cases",active:"cases"===ae,onClick:function(e){return ne("cases")},title:"Total Cases",cases:D(a.todayCases),total:D(a.cases)}),r.a.createElement(j,{isGreen:!0,type:"Recovered",active:"recovered"===ae,onClick:function(e){return ne("recovered")},title:"Total Recovered",cases:D(a.todayRecovered),total:D(a.recovered)}),r.a.createElement(j,{isRed:!0,type:"Deaths",active:"deaths"===ae,onClick:function(e){return ne("deaths")},title:"Total Deaths",cases:D(a.todayDeaths),total:D(a.deaths)})),r.a.createElement(M,{casesType:ae,countries:X,center:I,zoom:W})),r.a.createElement(d.a,{className:"table__right"},r.a.createElement(p.a,null,r.a.createElement("h3",{className:"app__rightTableTitle"},"current confirmed cases \u2022 US"),r.a.createElement(B,{states:F}),r.a.createElement("h3",{className:"app__rightGraphTitle"},"new daily ",ae," nationwide"),r.a.createElement(G,{className:"app__graph",casesType:ae,historical:"usa"})))))},q=(a(226),a(110)),F=a.n(q),H=a(76),U=a.n(H);var Y=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(f.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(f.a)(m,2),p=d[0],v=d[1],h=Object(n.useState)([]),E=Object(f.a)(h,2),b=E[0],y=E[1],O=Object(n.useState)(!1),j=Object(f.a)(O,2),g=j[0],N=j[1];Object(n.useEffect)((function(){_()}),[]);var _=function(){N(!0),U.a.get("api/user").then((function(e){var t=e.data;setTimeout((function(){y(t.reverse()),N(!1)}),1850),console.log("Data has been received!!")})).catch((function(){alert("Error retrieving data!!!")}))},w=function(){c(""),u(""),v("")};return r.a.createElement("div",{className:"user"},r.a.createElement("div",{className:"user__nav"},r.a.createElement("h1",null,"User Dashboard"),r.a.createElement("div",{className:"right__nav-two"},r.a.createElement(o.b,{className:"user-link-back",to:"/"},"Back To Home"))),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new Date,n={date:t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),time:t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),name:a,location:i,body:p};U()({url:"api/user",method:"POST",data:n}).then((function(){w(),_()})).catch((function(e){console.log("Internal server error",e)}))}},r.a.createElement("div",{className:"form-input"},r.a.createElement("input",{required:"true",type:"text",name:"name",placeholder:"Name",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{required:"true",type:"text",name:"location",placeholder:"Location",value:i,onChange:function(e){return u(e.target.value)}}),r.a.createElement("textarea",{required:"true",type:"text",name:"body",placeholder:"How's Covid-19 situation in your area?",value:p,onChange:function(e){return v(e.target.value)}})),r.a.createElement("button",{className:"btn"},g&&r.a.createElement(F.a,{className:"loading",type:"ThreeDots",color:"#fff"}),!g&&"Submit"))),r.a.createElement("div",{className:"blog-"},function(e){return e.length?e.map((function(e,t){return r.a.createElement("div",{key:t,className:"blog-post__display"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"name"},r.a.createElement("h3",null,e.location," | ",e.date),r.a.createElement("h4",null,"@",e.name))),r.a.createElement("div",{className:"post"},r.a.createElement("p",null,e.body)))})):null}(b)))};var I=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:P}),r.a.createElement(s.a,{path:"/user",component:Y}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.6e834f1a.chunk.js.map